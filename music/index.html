<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Robert Rosina | Music</title>
  <style>
  

/* keep the words tight and centered under the player */
.track-desc {
  width: min(70ch, 92%);   /* cap line length; shrink on small screens */
  margin: 1rem auto 1.5rem;/* center horizontally with generous spacing */
  text-align: center;
  line-height: 1.6;
  color: #999;
  font-family: 'Montserrat', sans-serif;
  font-size: 0.95rem;
}


  #listen.reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 2s ease-out 1.5s, transform 2s ease-out 2s;
}

#listen.reveal.active {
  opacity: 1;
  transform: translateY(0);
}


#listen {
  margin-top: 50px; /* adjust as needed */
}

.reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 1s ease-out, transform 0.8s ease-out;
}

.reveal.active {
  opacity: 1;
  transform: translateY(0);
}

    body {
      margin: 0;
      font-family: Arial, sans-serif;
	   background: url("images/showreel-thumbnail.jpg") no-repeat center center fixed;
  background-size: cover;
      background-color: #111;
      color: #eee;
      line-height: 1.6;
    }
    header {
      text-align: center;
      background-color: #000;
      padding: 4rem 1rem 2rem;
    }
header img {
  width: 100%;
  margin-bottom: 1rem;
}

    header h1 {
      font-size: 2.5rem;
      margin: 0.5rem 0;
    }
    header p {
      font-size: 1.2rem;
      color: #ccc;
    }

    section {
      max-width: 900px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #181818;
      border-radius: 4px;
    }
section h2 {
  font-family: 'Cinzel', serif;
  font-weight: 400;
  color: #ddd;
  margin-top: 0;
}


    .audio-player {
      text-align: center;
      margin: 2rem 0;
    }
    .audio-player iframe {
      width: 100%;
      height: 166px;
      border: none;
    }
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      margin: 2rem 0;
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .about-artist img {
      max-width: 200px;
      border-radius: 4px;
      margin-bottom: 1rem;
    }
    .about-artist p {
      color: #ccc;
    }
    footer {
      text-align: center;
      padding: 2rem 1rem;
      font-size: 0.9rem;
      color: #777;
    }
    a {
      color: #ead6a7;
      text-decoration: none;
    }
    a:hover {
      text-decoration: none;
    }

section form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

section form input,
section form textarea {
  background-color: #222;
  color: #eee;
  border: 1px solid #555;
  border-radius: 4px;
  padding: 0.75rem;
  font-size: 1rem;
}

section form input::placeholder,
section form textarea::placeholder {
  color: #888;
}

section form input:focus,
section form textarea:focus {
  border-color: #ead6a7;
  outline: none;
}

section form button {
  background-color: #ead6a7;
  color: #111;
  border: none;
  border-radius: 4px;
  padding: 0.75rem;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s;
}

section form button:hover {
  background-color: #e6b800;
}

.cue {
  margin-bottom: 1rem;
}


.fade-only {
  transform: none;
}

.fade-only.active {
  transform: none;
}

.fade-area {
  opacity: 1;
  transition: opacity 0.5s ease;
}

.fade-area.fade-out {
  opacity: 0;
}

#carousel {
  scrollbar-width: none;         /* Firefox */
  -ms-overflow-style: none;      /* IE 10+ */
}
#carousel::-webkit-scrollbar {
  display: none;                 /* Chrome, Safari */
}
#carousel > div {
  scroll-snap-align: start;
}

#carousel {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;
  padding: 1rem 0;
  background-color: #111;
  border-radius: 4px;
}

#carousel::-webkit-scrollbar {
  display: none;
}

#carousel > div {
  flex: 0 0 auto;
  width: 150px;
  scroll-snap-align: center;
  text-align: center;
  background-color: #222;
  border-radius: 4px;
  padding: 0.5rem;
  transition: background-color 0.3s;
  cursor: pointer;
}

#carousel > div:hover {
  background-color: #333;
}

#carousel img {
  width: 100%;
  border-radius: 4px;
  margin-bottom: 0.5rem;
}

#trackList button {
  display: block;
  width: 100%;
  background-color: #222;
  color: #ccc;
  border: none;
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  text-align: left;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s;
  font-family: 'Cinzel', serif;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}


#trackList button:hover {
  background-color: #333;
}



.playlist-icons {
  display: flex; 
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 2rem;
  margin-top: 2rem;
}

.playlist-icons a img {
  width: 85px;
  height: 85px;
  transition: transform 0.2s;
}

.playlist-icons a img:hover {
  transform: scale(1.05);
}

@keyframes fadeInBanner {
  to {
    opacity: 1;
  }
}

/* Base layout and transparency */
.nav-overlay {
  position: fixed;          /* 👈 always visible at top */
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 40px;
  background: transparent;
  box-sizing: border-box;
  pointer-events: auto;
}


.site-name {
  font-family: 'Montserrat', sans-serif;
  font-weight: 300;
  color: #ccc;
  font-size: 18px;
  letter-spacing: 2px;
}
.site-name .highlight {
  font-weight: 600;
  color: #ffffff;
}

.nav-center {
  list-style: none;
  display: flex;
  gap: 30px;
  margin: 0;
  padding: 0;
}
.nav-center li a {
  font-family: 'Montserrat', sans-serif;
  font-size: 14px;
  color: #ddd;
  text-decoration: none;
  padding: 5px 10px;
  transition: 0.3s ease;
}
.nav-center li a:hover,
.nav-center li a.active {
  color: #ffffff;
  border-bottom: 1px solid #888;
}

.nav-right {
  display: flex;
  align-items: center;
  gap: 15px;
}
.nav-right img {
  width: 24px;
  height: 24px;
  transition: opacity 0.3s ease;
  filter: brightness(85%);
}
.nav-right img:hover {
  filter: brightness(110%);
  opacity: 1;
}

html {
  scroll-behavior: smooth;
}

section {
  scroll-margin-top: 60px; /* Adjust depending on your nav height */
}

@media (max-width: 1150px) {
  .nav-center {
    display: none;
  }
}

@media (max-width: 600px) {
  .nav-right {
    display: none;
  }
}

.video-selector {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 1rem;
  background-color: #111;
}

.video-tab {
  background: #181818;
  color: #ccc;
  border: 1px solid #333;
  padding: 0.75rem 1rem;
  font-family: 'Cinzel', serif;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background-color 0.3s, color 0.3s;
  flex: 1 0 160px;
  text-align: center;
}

.video-tab:hover {
  background-color: #222;
  color: #fff;
}

.video-tab.active {
  background-color: #ead6a7;
  color: #111;
  font-weight: bold;
}

#page-loader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #111;
  color: #ead6a7;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  font-family: 'Cinzel', serif;
  font-size: 1rem;
}

.loader-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #ead6a7;
  border-top: 4px solid transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

  #playPauseBtn:hover {
    background-color: #ead6a7;
    color: #111;
  }

#playPauseBtn {
  width: auto; /* Let it size naturally */
  min-width: 140px; /* Set minimum width to avoid shrink-wrap */
  padding: 0.6rem 1.4rem;
  background: transparent;
  color: #ead6a7;
  border: 2px solid #ead6a7;
  border-radius: 4px;
  font-size: 0.95rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-family: 'Montserrat', sans-serif;
  transition: all 0.3s ease;
  cursor: pointer;
  white-space: nowrap; /* 🚫 Prevent line breaks */
}

@media (max-width: 1200px) {
  .hero-banner video {
    width: 125% !important;
    margin-left: 50% !important;
  transform: translateX(-50%) !important;
  }
}

  .credits-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1.5rem;
  }

  .credit-card {
    flex-basis: calc(33.333% - 1rem);
    max-width: calc(33.333% - 1rem);
    background-color: #1a1a1a;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
  }

  .credit-image-wrapper {
    width: 100%;
    aspect-ratio: 1 / 1;
    overflow: hidden;
  }

  .credit-image-wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .credit-card h3 {
    margin: 0 0 0.5rem;
    font-size: 1rem;
    color: #fff;
  }

  .credit-card p {
    margin: 0;
    font-size: 0.85rem;
    color: #aaa;
  }

  .credit-card span {
    color: #666;
  }

  @media (max-width: 900px) {
    .credit-card {
      flex-basis: calc(50% - 1rem);
      max-width: calc(50% - 1rem);
    }
  }

  @media (max-width: 600px) {
    .credit-card {
      flex-basis: 100%;
      max-width: 100%;
    }
  }
  </style>

<style>
  .track-btn {
    display: block;
    width: 100%;
    text-align: left;
    padding: 0.6rem 0.8rem;
    margin-bottom: 0.5rem;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 10px;
    cursor: pointer;
  }
  .track-btn:hover { background: rgba(255,255,255,0.04); }
  .track-btn.active { border-color: #ead6a7; }

  .track-row {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    gap: 1rem;
  }
  .track-left { font-weight: 500; }
  .track-right { color: #888; white-space: nowrap; }
  .track-duration { font-size: 0.85rem; color: #888; margin-top: 0.25rem; }

  @media (max-width: 640px) {
    .track-row { flex-direction: column; align-items: flex-start; }
    .track-right { white-space: normal; }
  }
</style>

<!-- YouTube API -->
<script src="https://www.youtube.com/iframe_api"></script>

<!-- SoundCloud Widget API -->
<script src="https://w.soundcloud.com/player/api.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">


<!-- WaveSurfer.js Core -->
<script src="https://unpkg.com/wavesurfer.js"></script>

<!-- Timeline (if desired) -->
<script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js"></script>

</head>
<body>

<div id="page-loader">
  <div class="loader-spinner"></div>
</div>

<nav class="nav-overlay">
  <div class="nav-left"><a>
    <span class="site-name">ROBERT <span class="highlight">ROSINA</span> MUSIC</span>
  </div>
  <ul class="nav-center">
    <li><a href="#listen">LISTEN</a></li>
    <li><a href="#about">ABOUT</a></li>
    <li><a href="#contact">CONTACT</a></li>
  </ul>
<div class="nav-right">
    <a href="https://www.instagram.com/robertrosina/" target="_blank">
      <img src="social-icons/instagram-logo.png" alt="Instagram">
    </a>
<!--    <a href="https://www.youtube.com/@RobertRosina" target="_blank">
      <img src="social-icons/youtube-logo.png" alt="YouTube">
    </a>
    <a href="https://open.spotify.com/artist/7aj5GYShHzo1srwnGIWdg3?si=1P_X8SBSThO1HBwdpcIYsw" target="_blank">
      <img src="social-icons/spotify-logo.png" alt="Spotify">
    </a>


    <a href="https://www.imdb.com/name/nm4565134/" target="_blank">
      <img src="social-icons/imdb-logo.png" alt="IMDb">
	  
    </a> !-->
  </div>
</nav>

&nbsp;

<section id="listen" class="reveal">

  <h2>Video</h2>

<video id="showreelPlayer" 
poster="images/showreel-thumbnail.jpg"
controls style="width: 100%; border-radius: 4px; background-color: #000;">
  <source id="videoSource" src="videos/heroes.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>

<div class="video-selector">
  <button onclick="switchVideo('heroes')" class="video-tab active">Forgotten Heroes (1942)</button>
  <button onclick="switchVideo('frontier')" class="video-tab">Ravencroft Manor</button>  
  <!--  
  <button onclick="switchVideo('jacobine')" class="video-tab">Film - Superman (Rescore)</button>
  <button onclick="switchVideo('slime')" class="video-tab">Documentary - The Death of Man (Rescore)</button>
<!--    <button onclick="switchVideo('jupiter')" class="video-tab">Musicianship Demo - Guitar</button>
  <button onclick="switchVideo('voyage')" class="video-tab">Musicianship Demo - Vocals</button>-->
</div>
<br>

  <h2>Audio</h2>

  <!-- Display Area -->
  <div id="currentDisplay" class="fade-area">
    <p id="currentTitle" style="
      font-family: 'Montserrat', sans-serif;
      font-size: 0.9rem;
      color: #bbb;
      margin: 0.5rem 0;
      font-weight: 400;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      text-align: center;
    ">
    </p>
	<p id="currentDesc" class="track-desc"></p>

    <!-- Waveform Display -->
    <div id="waveform" style="width: 100%; height: 100px; margin: 1rem 0;"></div>

    <!-- Play/Pause -->
    <div style="text-align: center;">
<button id="playPauseBtn" style="
  padding: 0.6rem 1.4rem;
  background: transparent;
  color: #ead6a7;
  border: 2px solid #ead6a7;
  border-radius: 4px;
  font-size: 0.95rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  font-family: 'Montserrat', sans-serif;
  transition: all 0.3s ease;
  cursor: pointer;
">
  ▶ Play
</button>

    </div>
  </div>

  <!-- Track List -->
  <div id="trackList" style="
    background-color: #111;
    padding: 1rem;
    border-radius: 4px;
  ">
    <!-- Buttons will be generated by JS -->
  </div>




</section>

  <!-- Add your icons directly here at the end 
  <div class="playlist-icons">
    <a href="https://open.spotify.com/artist/7aj5GYShHzo1srwnGIWdg3?si=1P_X8SBSThO1HBwdpcIYsw" target="_blank">
      <img src="social-icons/spotify-logo.png" alt="Spotify">
    </a>
  </div>-->


<!-- About the Artist Section with Photo -->
<section id="about" class="about-artist reveal" data-await="listen" style="text-align:left">

  <h2>About the Artist</h2>
  <img src="about-photo.jpg" alt="Robert Rosina Photo" style="width: 100%; max-width: 900px; border-radius: 4px; margin: 1.5rem auto;">
  <div style="max-width: 900px; margin: 0 auto; text-align: left; padding: 0 1rem;">
    <p><b>Inspired by the traditional cultures of Western Europe and a wide spectrum of musical styles, Robert Rosina is a film composer whose scores blend hybrid orchestral in the vein of Hans Zimmer (<em>Interstellar</em>), neo-medieval folk reminiscent of John Lunn (<em>The Last Kingdom</em>) and Howard Shore (<em>Lord of the Rings</em>), as well as progressive cinematic palettes evoking <em>Top Gun: Maverick</em>, <em>Stranger Things</em> and <em>Dune</em>.</b> </p><p>
	Each composition is meticulously crafted, combining live performances—vocals, percussion, plucked strings, and orchestral instruments—into world-class virtual instrumentation. Trained in film and music studies at Macquarie University, Robert is an exceptional guitarist and classically trained vocalist who has performed as both a session and touring musician. Equipped with a professional-grade studio, and proficient in Cubase, Vienna Ensemble Pro, Ableton Live, and Finale, he delivers cinema-ready mock-ups and mixes <em>par excellence</em>.</p><p>
	Beyond composition, he has a background in law and as a multimedia all-rounder with hands-on experience in editing, sound design, filming, and cinematography, confident in Premiere Pro, After Effects, and DaVinci Resolve.</p><p></div>
</section>

  <!-- 
<section id="credits" class="reveal">
  <h2>Credits</h2>

  <!-- Principal Credits: composing & production
  <table style="width:100%; border-collapse:collapse; margin-top:1rem; font-size:0.95rem;">
    <thead>
      <tr style="background-color:#222; color:#ead6a7; text-align:left;">
        <th style="padding:0.75rem;">Project</th>
        <th style="padding:0.75rem;">Medium</th>
        <th style="padding:0.75rem;">Role</th>
        <th style="padding:0.75rem;">Year(s)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:0.75rem; border-top:1px solid #333;">Finally — Daniel Ross</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Album</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Composer & Producer</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">2009</td>
      </tr>
      <tr>
        <td style="padding:0.75rem; border-top:1px solid #333;">Progeny</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">TV Pilot</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Music Supervisor</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">2013</td>
      </tr>
    </tbody>
  </table>

  <!-- Performance Highlights
  <div style="margin-top:1.25rem;"></div>
  <h3 style="font-family:'Cinzel',serif; font-weight:400; color:#ddd; margin:0.75rem 0;">Performance Highlights</h3>
  <table style="width:100%; border-collapse:collapse; font-size:0.95rem;">
    <thead>
      <tr style="background-color:#222; color:#ead6a7; text-align:left;">
        <th style="padding:0.75rem;">Project</th>
        <th style="padding:0.75rem;">Medium</th>
        <th style="padding:0.75rem;">Role</th>
        <th style="padding:0.75rem;">Year(s)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding:0.75rem; border-top:1px solid #333;">Session & Stage Work</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Live / Recording</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Guitarist / Vocals (incl. with David Berry, <em>Outlander</em>)</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">2005–Present</td>
      </tr>
      <tr>
        <td style="padding:0.75rem; border-top:1px solid #333;">Musical Theatre</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Stage</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Singer & Performer (Various Productions)</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">2008–2016</td>
      </tr>
      <tr>
        <td style="padding:0.75rem; border-top:1px solid #333;">Macquarie Compilation</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Album</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">Composer & Performer</td>
        <td style="padding:0.75rem; border-top:1px solid #333;">2009</td>
      </tr>
    </tbody>
  </table>
</section>
 -->

<section id="contact" class="reveal" data-await="listen">
   <h2>Contact</h2>
   
<div><em>Available for creative partnerships worldwide across Sydney, London, Los Angeles, or wherever imagination demands.</em></p></div>
  <form action="mailto:robertrosina@outlook.com.au" method="post" enctype="text/plain">
    <input type="text" name="name" placeholder="Your Name" required>
    <input type="email" name="email" placeholder="Your Email" required>
    <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
    <button type="submit">Send Message</button>
  </form>
</section>


  <!-- Footer -->
<footer style="background-color: #111; padding: 2rem 1rem; text-align: center; color: #bbb;">
  <div style="margin-bottom: 1rem;">
    <a href="https://www.instagram.com/robertrosina/" target="_blank" style="margin: 0 10px;">
      <img src="social-icons/instagram-logo.png" alt="Instagram" style="height: 30px;">
    </a>
    <a href="https://www.youtube.com/@RobertRosina" target="_blank" style="margin: 0 10px;">
      <img src="social-icons/youtube-logo.png" alt="YouTube" style="height: 30px;">
    </a>
    <a href="https://open.spotify.com/artist/7aj5GYShHzo1srwnGIWdg3?si=1P_X8SBSThO1HBwdpcIYsw" target="_blank" style="margin: 0 10px;">
      <img src="social-icons/spotify-logo.png" alt="Spotify" style="height: 30px;">
    </a>
    <a href="https://www.soundcloud.com/robert-rosina/" target="_blank" style="margin: 0 10px;">
      <img src="social-icons/soundcloud-logo.png" alt="SoundCloud" style="height: 30px;">
    </a>
    <a href="https://www.linkedin.com/in/robert-rosina/" target="_blank" style="margin: 0 10px;">
      <img src="social-icons/linkedin-logo.png" alt="LinkedIn" style="height: 30px;">
    </a>
    <a href="https://www.imdb.com/name/nm4565134/" target="_blank" style="margin: 0 10px;">
      <img src="social-icons/imdb-logo.png" alt="IMDb" style="height: 30px;">
    </a>

  </div>
  <p style="margin: 0; font-size: 0.9rem;">&copy; 2025 Robert Rosina. All rights reserved.</p>
</footer>


<script>
  function revealOnScroll() {
    const reveals = document.querySelectorAll('.reveal');
    for (let i = 0; i < reveals.length; i++) {
      const el = reveals[i];

      // If this element must await listen, and the gate isn't open yet, skip it
      if (el.dataset.await === 'listen' && !window.listenReady) continue;

      const windowHeight = window.innerHeight;
      const elementTop   = el.getBoundingClientRect().top;
      const revealPoint = (el.id === 'about' || el.id === 'contact') ? 100 : 100;


      if (elementTop < windowHeight - revealPoint) {
        el.classList.add('active');
      }
    }
  }

  window.addEventListener('scroll', revealOnScroll, { passive: true });
  window.addEventListener('load', revealOnScroll);
  document.addEventListener('DOMContentLoaded', revealOnScroll);
</script>

<script>
  // Global gate: About must wait for Listen to finish its full reveal
window.listenReady = false;


  (function () {
    const listen = document.getElementById('listen');
    if (!listen) return;

    // When the LAST transition on #listen finishes (transform ends last), open the gate
    listen.addEventListener('transitionend', (e) => {
      if (listen.classList.contains('active') && e.propertyName === 'transform') {
window.listenReady = true;

        // Immediately re-check visibility so About can reveal NOW if already in view
        revealOnScroll();
        requestAnimationFrame(revealOnScroll);
      }
    }, { once: true });

    // Fallback: compute longest (delay + duration) and open the gate even if the event is missed
    const cs = getComputedStyle(listen);
    const delays    = cs.transitionDelay.split(',').map(parseFloat);
    const durations = cs.transitionDuration.split(',').map(parseFloat);
    let maxTotalMs = 0, n = Math.max(delays.length, durations.length);
    for (let i = 0; i < n; i++) {
      const d  = durations[i] ?? durations[durations.length - 1] ?? 0;
      const de = delays[i]    ?? delays[delays.length - 1]       ?? 0;
      maxTotalMs = Math.max(maxTotalMs, (d + de) * 1000);
    }
    const mo = new MutationObserver(() => {
      if (listen.classList.contains('active')) {
        setTimeout(() => {
       window.listenReady = true;
          revealOnScroll();
          requestAnimationFrame(revealOnScroll);
        }, maxTotalMs + 50);
        mo.disconnect();
      }
    });
    mo.observe(listen, { attributes: true, attributeFilter: ['class'] });
  })();
</script>





<script>
const tracks = [
  {
    main: "The Wisdom of Exeter",
    audio: "audio/lotus-eaters.mp3",
    duration: "1:45",
    desc: "A contemplative sketch inspired by the Exeter Book, written for a podcast pitch. Live Gregorian voices quote Old English lines calling for wisdom, entwined with strings and recorded ethnic plucks to evoke quiet resolve and ancient memory."
  },
  {
    main: "Tenebrae In Excelsis",
    audio: "audio/wyrdcasters-excerpt.mp3",
    duration: "2:44",
desc: "An excerpt from the upcoming Wyrdcasters Suite. Shifting through rhythmic movements that conjure mystery and foreboding ceremony, the climax descends into tribal madness in odd time, an aleatoric cacophony evoking the trance of Celtic druids."

  },
  {
    main: "Forgotten Heroism (1942)",
    audio: "audio/heroes.mp3",
    duration: "1:12",
    desc: "A montage cue of stoic brass and trembling strings, capturing elegiac memory and the restrained courage of wartime sacrifice."
  },
  {
    main: "Exotic States",
    audio: "audio/exotic-states.mp3",
    duration: "1:40",
    desc: "Hybrid pulses and oud-like plucks layered with airy pads — a soundscape that suggests travel, intrigue, and shifting cultural borders."
  },
  {
    main: "Ravencroft Manor",
    audio: "audio/ravencroft.mp3",
    duration: "0:51",
    desc: "An opening titles cue: chromatic string writing and stark orchestral gestures clash with distorted guitar tones to set a gothic, modern-edged atmosphere."
  },
  {
    main: "Chaos Theory",
    audio: "audio/chaos-theory.mp3",
    duration: "2:16",
    desc: "A musicianship and production showcase where progressive guitar techniques collide with cinematic low-end power, weaving control and turbulence together."
  },
];


const trackList = document.getElementById('trackList');
const currentTitle = document.getElementById('currentTitle');
const display = document.getElementById('currentDisplay');
const playPauseBtn = document.getElementById('playPauseBtn');

// Initialize WaveSurfer
const wavesurfer = WaveSurfer.create({
  container: '#waveform',
  waveColor: '#ead6a7',
  progressColor: '#fff',
  cursorColor: '#fff',
  height: 80,
  barWidth: 2,
  barGap: 2,
  responsive: true
});
let currentTrackIndex = 0;

function loadTrack(index, autoplay = false) {
  currentTrackIndex = index;
  const track = tracks[index];
  const descEl = document.getElementById('currentDesc');

  // Mark active in the list (optional)
  [...trackList.querySelectorAll('.track-btn')].forEach((b, i) =>
    b.classList.toggle('active', i === index)
  );

  display.classList.add('fade-out');

  setTimeout(() => {
    // Title: main only (no dash, no subtitle)
    currentTitle.textContent = track.main;

    // Description: only here under the top player
    if (track.desc && track.desc.trim()) {
      descEl.textContent = track.desc.trim();
      descEl.style.display = '';
    } else {
      descEl.textContent = '';
      descEl.style.display = 'none';
    }

    // Load audio
    wavesurfer.load(track.audio);
    display.classList.remove('fade-out');

    if (autoplay) {
      wavesurfer.once('ready', () => wavesurfer.play());
    }
  }, 500);
}

// Initial load
loadTrack(0);


playPauseBtn.addEventListener('click', () => {
  wavesurfer.playPause();
});

wavesurfer.on('play', () => {
  playPauseBtn.textContent = '❚❚ Pause';
});

wavesurfer.on('pause', () => {
  playPauseBtn.textContent = '▶ Play\u00A0\u00A0'; // 2 non-breaking spaces
});


// Auto-play next track
wavesurfer.on('finish', () => {
  let next = currentTrackIndex + 1;
  if (next >= tracks.length) next = 0;
  loadTrack(next, true);
});

</script>


<script>

// Build track list buttons (main left, subtitle right, duration below)
trackList.innerHTML = "";
tracks.forEach((track, index) => {
  const btn = document.createElement('button');
  btn.className = 'track-btn';
  btn.innerHTML = `
    <div class="track-row">
      <span class="track-left">${track.main}</span>
      <span class="track-right">${track.duration}</span>
    </div>
  `;
  btn.addEventListener('click', () => loadTrack(index, true));
  trackList.appendChild(btn);
});



  const sections = document.querySelectorAll('section[id], .hero-banner');
  const navLinks = document.querySelectorAll('.nav-center a');

  let scrollEnabled = true;
  let scrollTimeout = null;

  // 1. On click, activate link and temporarily disable scroll tracking
  navLinks.forEach(link => {
    link.addEventListener('click', () => {
      const targetHref = link.getAttribute('href');

      navLinks.forEach(l => l.classList.remove('active'));
      link.classList.add('active');

      scrollEnabled = false;
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        scrollEnabled = true;
      }, 1000); // Delay in ms — adjust as needed
    });
  });

  // 2. Scroll-based section activation
  function setActiveLink() {
    if (!scrollEnabled) return;

    let index = sections.length;
    let found = false;

    while (--index >= 0) {
      const section = sections[index];
      const rect = section.getBoundingClientRect();

      if (rect.top <= 120) {
        const id = section.id || 'home';
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${id}`) {
            link.classList.add('active');
          }
        });
        found = true;
        break;
      }
    }

    // If at bottom and no match, highlight last section (Contact)
    const scrollY = window.scrollY || window.pageYOffset;
    const nearBottom = (window.innerHeight + scrollY) >= (document.body.offsetHeight - 10);
    if (!found && nearBottom) {
      navLinks.forEach(link => link.classList.remove('active'));
      const lastSection = sections[sections.length - 1];
      const lastId = lastSection.id || 'home';
      const lastLink = document.querySelector(`.nav-center a[href="#${lastId}"]`);
      if (lastLink) lastLink.classList.add('active');
    }
  }

  window.addEventListener('scroll', setActiveLink);
  window.addEventListener('load', setActiveLink);
</script>

<script>
  const videoFiles = {
    frontier: "videos/frontier.mp4",
    heroes: "videos/heroes.mp4"
  };
function switchVideo(key) {
  const player = document.getElementById("showreelPlayer");
  const source = document.getElementById("videoSource");
  const loader = document.getElementById("page-loader");

  // Show loader again
  if (loader) {
    loader.style.display = "flex";
    loader.style.opacity = "1";
  }

  // Change video source
  source.src = videoFiles[key];
  player.load();

  // When the video can play, hide loader and start playback
  player.oncanplay = () => {
    if (loader) {
      loader.style.opacity = "0";
      setTimeout(() => (loader.style.display = "none"), 500);
    }
    player.play();
  };

  // Highlight active tab
  document.querySelectorAll(".video-tab").forEach(btn => {
    btn.classList.remove("active");
  });
  event.target.classList.add("active");
}

</script>

<script>
  window.addEventListener('load', function () {
    const loader = document.getElementById('page-loader');
    if (loader) {
      loader.style.opacity = '0';
      loader.style.transition = 'opacity 0.5s ease';
      setTimeout(() => loader.style.display = 'none', 500);
    }
  });
</script>


</body>
</html>
